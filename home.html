<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>PriMatika</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    * {
  touch-action: manipulation;
}

    html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  height: 100vh;
}

    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100%;
      width: 100%;
      background-image: url("bg2.jpg") !important; 
      background-size: cover;
    }

    html {
      height: 100%;
      width: 100%;
    }

    .app-wrapper {
      width: min-content(90%, 90%);
      min-height: 10vh;
      display: flex;
      flex-direction: column;
      padding: clamp(12px, 3vw, 24px);
      padding-bottom: 50px;
      background-image: url('gifs/uma-musume-rice-shower.gif');
      background-size: 15% auto; 
      background-position: top right; 
      background-repeat: no-repeat;  
      background-attachment: fixed; 
      z-index: -1;
    }


    .header {
      text-align: center;
      margin-bottom: clamp(16px, 4vw, 32px);
      padding-top: clamp(10px, 3vw, 20px);
      position: relative;
      flex-shrink: 0;
    }

    .back-btn {
      position: absolute;
      left: clamp(10px, 3vw, 20px);
      bottom: clamp(10px, 3vw, 20px);
      background-color: #f5f5f5;
      border: none;
      font-size: clamp(24px, 5vw, 32px);
      cursor: pointer;
      padding: clamp(6px, 1vw, 8px);
      transition: transform 0.2s;
      border-radius: clamp(12px, 2vw, 16px);
      opacity: 0.9;
      z-index: 1000;
    }

    .back-btn:active {
      transform: scale(0.9);
    }

    .app-icon {
      font-size: clamp(40px, 8vw, 56px);
      margin-bottom: 12px;
      width: clamp(60px, 12vw, 80px);
      height: clamp(60px, 12vw, 80px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: clamp(15px, 3vw, 20px);
    }

    .title {
      font-size: clamp(24px, 5vw, 32px);
      font-weight: 700;
      margin: 0;
    }

    .title, .h1 {
      background-color: rgb(228, 220, 117);
      border-radius: clamp(8px, 2vw, 10px);
      opacity: 0.9;
      width: fit-content;
      margin-left: 38%;
      padding: 7px;
    }
    .emoji {
      width: 70%;
    }
    
    .menu-container {
      display: flex;
      flex-direction: column;
      gap: clamp(12px, 2vw, 16px);
      max-width: 80%;
      margin: 0 auto;
      width: 100%;
    }

    @media (orientation: landscape) and (max-height: 600px) {
      .menu-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: clamp(10px, 2vw, 12px);
      }
    }

    .menu-btn {
      --surface-color: #60a5fa;
      display: flex;
      align-items: center;
      padding: clamp(16px, 3vw, 24px);
      font-size: clamp(16px, 3vw, 20px);
      font-weight: 600;
      border: none;
      border-radius: clamp(12px, 2vw, 16px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      text-align: left;
      opacity: 0.9;
      background-image: url('gifs/hashire.gif');
      background-size: auto 100%;  /* Scales height to button height, width auto for aspect ratio */
      background-position: 0% 50%;  /* Starts at left center */
      background-repeat: no-repeat;  /* Prevents tiling */
      position: relative;  /* Ensures layering works */
      z-index: 0;  /* Keeps text on top */
      animation: runAcross 4s linear infinite;
    }

    @keyframes runAcross {
  0% {
    background-position: 0% 50%;  /* Starts at left */
  }
  100% {
    background-position: 100% 50%;  /* Ends at right */
  }
}

    .menu-btn:active {
      transform: scale(0.97);
    }

    .menu-btn-icon {
      font-size: clamp(24px, 5vw, 32px);
      margin-right: clamp(12px, 2vw, 16px);
    }

    .menu-btn-text {
      flex: 1;
    }

    .menu-btn-arrow {
      font-size: clamp(20px, 4vw, 24px);
      opacity: 0.7;
    }

    .page {
      display: none;
      flex: 3;  /* Added: Makes the page fill available height */
      flex-direction: column;
      overflow: hidden;
    }

    .page.active {
      display: flex;
      width: 100%;
      flex-direction: column;
    }

    .operation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(clamp(100px, 25vw, 130px), 1fr));
      gap: clamp(12px, 2vw, 16px);
      max-width: 800px;
      margin: 0 auto;
      width: 100%;
      justify-content: center;
    }

    .operation-btn {
      padding: clamp(24px, 4vw, 40px) clamp(16px, 3vw, 24px);
      font-size: clamp(20px, 4vw, 28px);
      font-weight: 700;
      border: none;
      border-radius: clamp(12px, 2vw, 16px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: clamp(8px, 2vw, 12px);
      opacity: 0.9;
    }

    .operation-btn:active {
      transform: scale(0.97);
    }

    .operation-icon {
      font-size: clamp(36px, 7vw, 48px);
    }

    .quiz-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 500px;
      margin: 0 auto;
      width: 100%;
      overflow-y: auto;
    }

    .quiz-instruction {
      font-size: clamp(24px, 13vw, 28px);
      margin: 0 0 clamp(16px, 3vw, 24px) 0;
      text-align: center;
      background-color: rgb(228, 220, 117);
      border-radius: clamp(10px, 2vw, 12px);
      opacity: 0.9;
    }

    .progress-container {
      margin-bottom: clamp(16px, 3vw, 24px);
    }

    .progress-text {
      font-size: clamp(18px, 4vw, 24px);
      font-weight: 700;
      padding: clamp(8px, 2vw, 12px) clamp(20px, 4vw, 32px);
      border-radius: clamp(8px, 2vw, 12px);
    }

    .number-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(clamp(80px, 20vw, 120px), 1fr));
      gap: clamp(12px, 2vw, 16px);
      width: 100%;
      margin-bottom: clamp(16px, 3vw, 24px);
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .number-btn {
      padding: clamp(20px, 4vw, 32px);
      font-size: clamp(24px, 5vw, 32px);
      font-weight: 700;
      border: none;
      border-radius: clamp(12px, 2vw, 16px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0.9;
    }

    .number-btn:active {
      transform: scale(0.95);
    }

    .number-btn.correct {
      background-color: #4CAF50; 
      color: white; 
      opacity: 0.4;
      pointer-events: none;
      animation: correctPulse 0.3s ease;
    }

    .number-btn.wrong {
      background-color: #f44336; 
      color: white;
      animation: shake 0.3s ease;
    }

    @keyframes correctPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

  #counting-number-grid {
       display: flex; 
       flex-wrap: wrap; 
       gap: 10px; 
       margin-top: 15px; 
    }

  #counting-progress-text { 
    font-size: 20px; 
    margin-bottom: 10px; 
  }

    .equation-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: clamp(20px, 4vw, 32px);
      max-width: 500px;
      margin: 0 auto;
      width: 100%;
      flex: 1;
      overflow-y: auto;
    }

    .equation-display {
      font-size: clamp(32px, 6vw, 48px);
      font-weight: 700;
      padding: clamp(20px, 4vw, 32px);
      border-radius: clamp(16px, 3vw, 20px);
      text-align: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: clamp(8px, 2vw, 16px);
      flex-wrap: wrap;
    }

    .equation-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: clamp(8px, 2vw, 12px);
    }

    .equation-images {
      display: flex;
      align-items: center;
      gap: 4px;
      flex-wrap: wrap;
      justify-content: center;
      min-height: clamp(80px, 15vw, 100px);
      max-height: clamp(80px, 15vw, 100px);
      min-width: clamp(100px, 20vw, 140px);
      max-width: clamp(100px, 20vw, 140px);
      padding: clamp(6px, 1vw, 8px);
      border-radius: clamp(8px, 2vw, 12px);
      background: rgba(255, 255, 255, 0.1);
      overflow: hidden;
    }

    .equation-item {
      font-size: clamp(16px, 3vw, 22px);
      line-height: 1;
    }

    .equation-number {
      font-size: clamp(24px, 5vw, 32px);
      font-weight: 700;
    }

    .equation-operator {
      font-size: clamp(32px, 7vw, 48px);
      font-weight: 700;
      margin: 0 clamp(4px, 1vw, 8px);
    }

    .equation-equals {
      font-size: clamp(32px, 7vw, 48px);
      font-weight: 700;
      margin: 0 clamp(4px, 1vw, 8px);
    }

    .answer-input {
      font-size: clamp(24px, 5vw, 36px);
      font-weight: 700;
      padding: clamp(12px, 3vw, 20px);
      border: clamp(2px, 0.5vw, 4px) solid;
      border-radius: clamp(12px, 2vw, 16px);
      text-align: center;
      width: clamp(150px, 40vw, 200px);
      outline: none;
      transition: all 0.2s;
    }

    .answer-input:focus {
      transform: scale(1.05);
    }

    .check-btn {
      padding: clamp(16px, 3vw, 20px) clamp(32px, 6vw, 48px);
      font-size: clamp(18px, 4vw, 24px);
      font-weight: 700;
      border: none;
      border-radius: clamp(12px, 2vw, 16px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0.9;
    }

    .check-btn:active {
      transform: scale(0.97);
    }

    .check-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .feedback-message {
      font-size: clamp(18px, 4vw, 24px);
      font-weight: 700;
      padding: clamp(12px, 2vw, 16px) clamp(24px, 4vw, 32px);
      border-radius: clamp(10px, 2vw, 12px);
      text-align: center;
    }

    .score-display {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: clamp(16px, 3vw, 24px);
      padding: clamp(32px, 6vw, 48px) clamp(24px, 4vw, 32px);
      border-radius: clamp(16px, 3vw, 20px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      margin-bottom: clamp(20px, 4vw, 32px);
    }

    .score-icon {
      font-size: clamp(64px, 12vw, 96px);
      line-height: 1;
    }

    .score-number {
      font-size: clamp(32px, 7vw, 48px);
      font-weight: 700;
    }

    .score-message {
      font-size: clamp(20px, 4vw, 28px);
      font-weight: 600;
      text-align: center;
      line-height: 1.3;
    }

    .score-actions {
      display: flex;
      flex-direction: column;
      gap: clamp(12px, 2vw, 16px);
      width: 100%;
      max-width: 400px;
    }

    .try-again-btn {
      padding: clamp(12px, 2.5vw, 16px) clamp(24px, 4vw, 32px);
      font-size: clamp(16px, 3vw, 18px);
      font-weight: 600;
      border: none;
      border-radius: clamp(10px, 2vw, 12px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0.9;
    }

    .try-again-btn:active {
      transform: scale(0.95);
    }

    .number-display-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: clamp(12px, 3vw, 20px);
      max-width: 600px;
      margin: 0 auto;
      width: 100%;
      flex: 1;
      overflow-y: auto;
    }

    @media (max-width: 480px) {
      .number-display-list {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .number-display-card {
      padding: clamp(20px, 4vw, 32px) clamp(16px, 3vw, 24px);
      border-radius: clamp(12px, 2vw, 16px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: clamp(12px, 2vw, 16px);
      transition: all 0.2s;
    }

    .number-display-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    .number-large {
      font-size: clamp(48px, 10vw, 64px);
      font-weight: 700;
      line-height: 1;
    }

    .word-large {
      font-size: clamp(18px, 3vw, 24px);
      font-weight: 600;
      text-align: center;
    }

    .inequality-display {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: clamp(12px, 3vw, 24px);
      padding: clamp(24px, 5vw, 40px);
      border-radius: clamp(16px, 3vw, 20px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      margin-bottom: clamp(16px, 4vw, 32px);
    }

    .inequality-number {
      font-size: clamp(48px, 10vw, 72px);
      font-weight: 700;
      min-width: clamp(80px, 20vw, 120px);
      text-align: center;
    }

    .inequality-symbol {
      font-size: clamp(42px, 9vw, 64px);
      font-weight: 700;
      opacity: 0.5;
    }

    .inequality-options {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: clamp(12px, 2vw, 16px);
      width: 100%;
      max-width: 400px;
    }

    .inequality-btn {
      padding: clamp(20px, 4vw, 32px);
      font-size: clamp(32px, 7vw, 48px);
      font-weight: 700;
      border: none;
      border-radius: clamp(12px, 2vw, 16px);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0.9;
    }

    .inequality-btn:active {
      transform: scale(0.95);
    }

    .inequality-btn.correct {
      animation: correctPulse 0.5s ease;
    }

    .inequality-btn.wrong {
      animation: shake 0.3s ease;
    }

    .inequality-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .language-selector {
      position: fixed;
      bottom: clamp(12px, 2vw, 20px);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: clamp(6px, 1vw, 8px);
      background: rgba(0, 0, 0, 0.3);
      padding: clamp(6px, 1vw, 8px);
      border-radius: clamp(8px, 2vw, 12px);
      backdrop-filter: blur(10px);
      z-index: 1000;
    }

    .language-btn {
      padding: clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 16px);
      font-size: clamp(12px, 2vw, 14px);
      font-weight: 600;
      border: 2px solid transparent;
      border-radius: clamp(6px, 1vw, 8px);
      cursor: pointer;
      transition: all 0.2s;
      background: rgba(255, 255, 255, 0.2);
      color: #ffffff;
      min-width: clamp(40px, 8vw, 50px);
      opacity: 0.9;
    }

    .language-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .language-btn.active {
      background: #ffffff;
      color: #1e40af;
      border-color: #ffffff;
    }

    .language-btn:active {
      transform: scale(0.95);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
 </head>


 <body>
  <div class="app-wrapper">
    <!-- Main Menu Page -->
   <div class="page active" id="main-page">
    <div class="header">
     <div class="app-icon">
    <img src="logo_noname.png" width="90%" height="87%" alt="PriMatika Logo">
    </div>
     <h1 class="title" id="app-title">PriMatika</h1>
     
    </div>
    <div class="menu-container">
     <button class="menu-btn sfx-click" id="counting-btn"> 
        <span class="menu-btn-icon">üî¢</span> 
        <span class="menu-btn-text sfx-click" id="count-btn-text">Counting</span>
        <span class="menu-btn-arrow">‚Üí</span> 
      </button>
      <button class="menu-btn sfx-click" id="solving-btn"> 
        <span class="menu-btn-icon">‚úèÔ∏è</span> 
        <span class="menu-btn-text" id="solve-btn-text">Solving</span> 
        <span class="menu-btn-arrow">‚Üí</span> 
      </button> 
      <button class="menu-btn sfx-click" id="inequality-btn"> 
        <span class="menu-btn-icon">‚öñÔ∏è</span> 
        <span class="menu-btn-text" id="ineq-btn-text">Inequality</span> 
        <span class="menu-btn-arrow">‚Üí</span> 
      </button>
      <button class="menu-btn sfx-click" id="number-table-btn"> 
        <span class="menu-btn-icon">üìä</span> 
        <span class="menu-btn-text" id="num-btn-text">Number Table</span> 
        <span class="menu-btn-arrow">‚Üí</span> 
      </button> 
    </div>
   </div>

   <!-- Counting Difficulty Page -->
   <div class="page" id="counting-difficulty-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-counting-difficulty">‚ÜêBack</button>
     <h1 class="title" id="choose-count-dif"> Change Difficulty</h1>
    </div>
    <div class="operation-grid">
      <button class="operation-btn sfx-click" id="counting-easy-btn"> 
        <span class="operation-icon">
          <img src="ez.webp" type="image/webp" class="emoji">
        </span> 
        <span class="dif" id="c-ez-dif">Easy</span> 
      </button> 
      <button class="operation-btn sfx-click" id="counting-moderate-btn"> 
        <span class="operation-icon">
          <img src="mod.webp" type="image/webp" class="emoji">
        </span> 
        
        <span class="dif" id="c-mod-dif">Moderate</span> 
      </button> 
      <button class="operation-btn sfx-click" id="counting-hard-btn"> 
        <span class="operation-icon">
        <img src="hard.webp" type="image/webp" class="emoji">

        </span> 
        <span class="dif" id="c-hard-dif">Hard</span> 
      </button>
    </div>
   </div>
   
   <!-- Counting Quiz Page -->
   <div class="page" id="counting-quiz-page">
    <div class="header"><button class="back-btn sfx-click" id="back-from-counting-quiz">‚ÜêBack</button>
     <h1 class="title" id="tap-in-order">Tap in Order</h1>
    </div>
    <div class="quiz-container">
     <p class="quiz-instruction" id="tap-subtext">Tap the numbers from smallest to largest!</p>
     <div class="progress-container">
      <div class="progress-text" id="counting-progress-text">
       0 / 5
      </div>
     </div>
     <div class="number-grid" id="counting-number-grid"><!-- Number buttons will be generated here -->
     </div>
    </div>
   </div>
   
   <!-- Counting Score Page -->
   <div class="page" id="counting-score-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-counting-score">‚ÜêBack</button>
     <h1 class="title" id="ur-score">Your Score</h1>
    </div>
    <div class="quiz-container">
     <div class="score-display">
      <div class="score-icon" id="counting-score-icon">
       
      </div>
      <div class="score-number" id="counting-score-number">
    
      </div>
      <div class="score-message" id="counting-score-message">
     
      </div>
     </div>
     <div class="score-actions">
      <button class="try-again-btn sfx-click" id="counting-try-again-btn">Try Again</button> 
      <button class="try-again-btn sfx-click" id="counting-difficulty-btn">Change Difficulty</button>
     </div>
    </div>
   </div>
   
   <!-- Solving Difficulty Page -->
  <div class="page" id="solving-difficulty-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-solving-difficulty">‚ÜêBack</button>
     <h1 class="title" id="choose-solve-dif">Change Difficulty</h1>
    </div>
    <div class="operation-grid">
      <button class="operation-btn sfx-click" id="solving-easy-btn"> 
        <span class="operation-icon">
          <img src="ez.webp" type="image/webp" class="emoji" class="emoji">
        </span> 
        <span class="dif" id="s-ez-dif">Easy</span> 
      </button> 
      <button class="operation-btn sfx-click" id="solving-moderate-btn"> 
        <span class="operation-icon">
           <img src="mod.webp" type="image/webp" class="emoji">
        </span> 
        <span class="dif" id="s-mod-dif">Moderate</span> 
      </button> 
      <button class="operation-btn sfx-click" id="solving-hard-btn"> 
        <span class="operation-icon">         <img src="hard.webp" type="image/webp" class="emoji"></span> 
        <span class="dif" id="s-hard-dif">Hard</span> </button>
    </div>
   </div>
   
   <!-- Operation Selection Page -->
   <div class="page" id="operation-selection-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-operation-selection">‚ÜêBack</button>
     <h1 class="title" id="choose-ope">Choose Operation</h1>
    </div>
    <div class="operation-grid">
      <button class="operation-btn sfx-click" id="add-operation-btn"> 
        <span class="operation-icon">‚ûï</span> 
        <span id="add-ope">Add</span> 
      </button> 
      <button class="operation-btn sfx-click" id="subtract-operation-btn"> 
        <span class="operation-icon">‚ûñ</span> 
        <span id="sub-ope">Subtract</span> 
      </button>
    </div>
   </div>
   
   <!-- Solving Quiz Page -->
   <div class="page" id="solving-quiz-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-solving-quiz">‚ÜêBack</button>
     <h1 class="title" id="solve-it">Solve It!</h1>
    </div>
    <div class="equation-container">
     <p class="quiz-instruction" id="solve-equ">Solve the equation!</p>
     <div class="progress-container">
      <div class="progress-text" id="solving-progress-text">
       1 / 5
      </div>
     </div>
     <div class="equation-display" id="equation-display">
      5 + 3 = ?
     </div><input type="number" class="answer-input" id="answer-input" placeholder="?"> <button class="check-btn sfx-click" id="check-btn">Check Answer</button>
     <div class="feedback-message" id="feedback-message" style="display: none;"></div>
    </div>
   </div>
   
   <!-- Solving Score Page -->
   <div class="page" id="solving-score-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-solving-score">‚ÜêBack</button>
     <h1 class="title" id="ur-score">Your Score</h1>
    </div>
    <div class="quiz-container">
     <div class="score-display">
      <div class="score-icon" id="solving-score-icon">
       
      </div>
      <div class="score-number" id="solving-score-number">
       
      </div>
      <div class="score-message" id="solving-score-message">
  
      </div>
     </div>
     <div class="score-actions">
      <button class="try-again-btn sfx-click" id="solving-try-again-btn">Try Again</button> 
      <button class="try-again-btn sfx-click" id="solving-difficulty-btn">Change Difficulty</button>
     </div>
    </div>
   </div>
   
   <!-- Number Table Range Selection Page -->
   <div class="page" id="number-table-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-number-table">‚ÜêBack</button>
     <h1 class="title" id="choose-range">Choose a Range</h1>
    </div>
    <div class="operation-grid" id="number-table-range-grid"><!-- Range buttons will be generated here -->
    </div>
   </div>
   
   <!-- Number Table Display Page -->
   <div class="page" id="number-table-display-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-number-display">‚ÜêBack</button>
     <h1 class="title" id="number-display-title" itemid="num-title">Numbers</h1>
    </div>
    <div class="operation-grid">
     <div class="number-display-list" id="number-display-list"><!-- Individual numbers will be generated here -->
     </div>
    </div>
   </div>
   
   <!-- Inequality Difficulty Page -->
   <div class="page" id="inequality-difficulty-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-inequality-difficulty">‚ÜêBack</button>
     <h1 class="title" id="choose-ineq-dif">Change Difficulty</h1>
    </div>
    <div class="operation-grid">
      <button class="operation-btn sfx-click" id="inequality-easy-btn"> 
        <span class="operation-icon">
          <img src="ez.webp" type="image/webp" class="emoji"></span> 
        <span class="dif" id="i-ez-dif">Easy</span> 
      </button> 
      <button class="operation-btn sfx-click" id="inequality-moderate-btn"> 
        <span class="operation-icon">
           <img src="mod.webp" type="image/webp" class="emoji">
        </span> 
        <span class="dif" id="i-mod-dif">Moderate</span> 
      </button> 
      <button class="operation-btn sfx-click" id="inequality-hard-btn"> 
        <span class="operation-icon">
        <img src="hard.webp" type="image/webp" class="emoji">
        </span> 
        <span class="dif" id="i-hard-dif">Hard</span> 
      </button>
    </div>
   </div>
   
   <!-- Inequality Quiz Page -->
   <div class="page" id="inequality-quiz-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-inequality-quiz">‚ÜêBack</button>
     <h1 class="title" id="comp-num">Compare Numbers</h1>
    </div>
    <div class="quiz-container">
     <p class="quiz-instruction" id="choose-comp">Choose the correct comparison symbol!</p>
     <div class="progress-container">
      <div class="progress-text" id="inequality-progress-text">
       1 / 5
      </div>
     </div>
     <div class="inequality-display" id="inequality-display">
      <div class="inequality-number" id="inequality-left">
       5
      </div>
      <div class="inequality-symbol">
       ?
      </div>
      <div class="inequality-number" id="inequality-right">
       3
      </div>
     </div>
     <div class="inequality-options" id="inequality-options">
      <button class="inequality-btn sfx-click" data-symbol="<">&lt;</button> 
      <button class="inequality-btn sfx-click" data-symbol="=">=</button> 
      <button class="inequality-btn sfx-click" data-symbol=">">&gt;</button>
     </div>
    </div>
   </div>
   
   <!-- Inequality Score Page -->
   <div class="page" id="inequality-score-page">
    <div class="header">
      <button class="back-btn sfx-click" id="back-from-inequality-score">‚ÜêBack</button>
     <h1 class="title" id="ur-score">Your Score</h1>
    </div>
    <div class="quiz-container">
     <div class="score-display">
      <div class="score-icon" id="inequality-score-icon">
       
      </div>
      <div class="score-number" id="inequality-score-number">
       
      </div>
      <div class="score-message" id="inequality-score-message">
       
      </div>
     </div>
     <div class="score-actions">
      <button class="try-again-btn sfx-click" id="inequality-try-again-btn">Try Again</button> 
      <button class="try-again-btn sfx-click" id="inequality-difficulty-btn">Change Difficulty</button>
     </div>
    </div>
   </div>
   
      <!-- Language Selector -->
  <div class="language-selector">
    <button onclick="changeLanguage('en')" class="language-btn active sfx-click" data-lang="en">Eng</button> 
    <button onclick="changeLanguage('fil')" class="language-btn sfx-click" data-lang="fil">Fil</button> 
    <button onclick="changeLanguage('hil')" class="language-btn sfx-click" data-lang="hil">Hil</button>
  </div>
   
  </div>
    <audio id="clickSound" src="sound-7.mp3" preload="auto"></audio>

    <audio id="bg-music" autoplay loop>
        <source src="bgm1-homescreen.mp3" type="audio/mpeg">
        <source src="music.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>



  <script>

    
    const sound = document.getElementById('clickSound');

document.addEventListener('click', (e) => {
  if (!e.target.closest('.sfx-click')) return;

  sound.currentTime = 0;
  sound.play();
});

/*
    const button = document.getElementById('counting-btn');
    const sound = document.getElementById('clickSound');

    button.addEventListener('click', () => {
      sound.currentTime = 0; // restart sound if clicked quickly
      sound.play();
    }); */

    document.addEventListener('click', () => {
      sound.load();
      }, { once: true });

    document.addEventListener('click', function () {
            const audio = document.getElementById('bg-music');
            if (audio.paused) {
                audio.play().catch(err => console.log("Autoplay blocked:", err));
            }
        });

  const translations = {
  en: {
    app_title: "PriMatika",
    count_btn_text: "Counting",
    solve_btn_text: "Solving",
    num_btn_text: "Number Table",
    ineq_btn_text: "Inequality",
    choose_dif: "Choose Difficulty",
    i_ez_dif: "Easy",
    c_ez_dif: "Easy",
    s_ez_dif: "Easy",
    i_mod_dif: "Moderate",
    c_mod_dif: "Moderate",
    s_mod_dif: "Moderate",
    i_hard_dif: "Hard",
    c_hard_dif: "Hard",
    s_hard_dif: "Hard",
    tap_in_order: "Tap in Order",
    tap_subtext: "Tap numbers from smallest to largest!",
    choose_ope: "Choose Operation",
    add_ope: "Add",
    sub_ope: "Subtract",
    solve_it: "Solve it!",
    solve_equ: "Solve the equation!",
    choose_range: "Choose a Range",
    number_display_title:"Numbers",
    comp_num: "Compare Numbers",
    choose_comp:"Choose the correct comparison symbol",
    check_btn: "Check Answer",
    ur_score: "Your Score",
    counting_try_again_btn:"Try Again",
    solving_try_again_btn:"Try Again",
    inequality_try_again_btn: "Try Again",
    counting_difficulty_btn: "Change Difficulty",
    solving_difficulty_btn: "Change Difficulty",
    inequality_difficulty_btn:"Change Difficulty",
    score_message_100: 'Perfect! Amazing work!',
    score_message_80: 'Great job! Keep it up!',
    score_message_60: 'Good effort! Practice more!',
    score_message_40: 'Nice try! Keep practicing!',
    score_message_below: 'Keep trying! You can do it!',
  },
  fil: {
    app_title: "PriMatika",
    count_btn_text: "Mag-bilang tayo!",
    solve_btn_text: "Mag-solve Tayo!",
    num_btn_text: "Mga Numero",
    ineq_btn_text: "Mas Malaki o Mas Maliit",
    choose_dif: "Pili ng Level",
    i_ez_dif: "Madali",
    s_ez_dif: "Madali",
    c_ez_dif: "Madali",
    i_mod_dif: "Sakto Lang",
    s_mod_dif: "Sakto Lang",
    c_mod_dif: "Sakto Lang",
    i_hard_dif: "Mahirap",
    s_hard_dif: "Mahirap",
    c_hard_dif: "Mahirap",
    tap_in_order: "Pindutin nang Sunod-Sunod",
    tap_subtext: "Pindutin mula pinaka-mababa hanggang pinaka-mataas!",
    choose_ope: "Pili ng Operation",
    add_ope: "Plus",
    sub_ope: "Minus",
    solve_it: "Sagutin!",
    solve_equ: "Sagutin ang Equation!",
    choose_range: "Pili ng Bilang",
    number_display_title: "Mga Numero",
    comp_num: "Paghambing ng Numero",
    choose_comp: "Pili ng Tamang Simbolo",
    check_btn: "Tingnan ang Sagot",
    ur_score: "Iyong Points",
    counting_try_again_btn: "Subukan Uli",
    solving_try_again_btn: "Subukan Uli", 
    inequality_try_again_btn: "Subukan Uli",
    counting_difficulty_btn: "Palitan ang Level", 
    solving_difficulty_btn: "Palitan ang Level", 
    inequality_difficulty_btn: "Palitan ang Level",
    score_message_100: 'Perpekto! Kamangha-mangha!',
    score_message_80: 'Ang galing! Ipagpatuloy mo!',
    score_message_60: 'Magandang pagsisikap! Magpraktis pa!',
    score_message_40: 'Magandang subok! Magpatuloy sa pagpraktis!',
    score_message_below: 'Ituloy mo! Kaya mo yan!',
  },
  hil: {
    app_title: "PriMatika",
    count_btn_text: "Mag-ihap kita!",
    solve_btn_text: "Mag-solbar!",
    num_btn_text: "Mga Numero",
    ineq_btn_text: "Daku ukon Gamay",
    choose_dif: "Pili Level",
    i_ez_dif: "Mahapos",
    s_ez_dif: "Mahapos",
    c_ez_dif: "Mahapos",
    i_mod_dif: "Tung√¢-tung√¢",
    s_mod_dif: "Tung√¢-tung√¢",
    c_mod_dif: "Tung√¢-tung√¢",
    i_hard_dif: "Budlay",
    s_hard_dif: "Budlay",
    c_hard_dif: "Budlay",
    tap_in_order: "Ipasunodd",
    tap_subtext: "Ipasunod ang numero halin sa gamay pakadto sa daku!",
    choose_ope: "Pili Operation",
    add_ope: "Plus",
    sub_ope: "Minus",
    solve_it: "Solbara!",
    solve_equ: "Solbara ang Equation!",
    choose_range: "Pili Numero",
    number_display_title: "Mga Numero",
    comp_num: "Pag-compare sang Numero",
    choose_comp: "Pili sang tsakto nga simbolo",
    check_btn: "Tan-awon ang Sabat",
    ur_score: "Imo Points",
    counting_try_again_btn: "Liwata", 
    solving_try_again_btn: "Liwata", 
    inequality_try_again_btn: "Liwata",
    counting_difficulty_btn: "Islan ang Level", 
    solving_difficulty_btn: "Islan ang Level",
    inequality_difficulty_btn: "Islan ang Level",
    score_message_100: 'Perpekto! Kasagad!',
    score_message_80: 'Ayos! Ipadayon!',
    score_message_60: 'Maayo nga paningkamot! Magpraktis pa!',
    score_message_40: 'Maayo nga subok! Magpadayon sa pagpraktis!',
    score_message_below: 'Padayon! Kaya mo na!',
  }
}

     const numberWords = {
  en: {
    1: "one", 2: "two", 3: "three", 4: "four", 5: "five",
    6: "six", 7: "seven", 8: "eight", 9: "nine", 10: "ten",
    11: "eleven", 12: "twelve", 13: "thirteen", 14: "fourteen", 15: "fifteen",
    16: "sixteen", 17: "seventeen", 18: "eighteen", 19: "nineteen", 20: "twenty",
    21: "twenty-one", 22: "twenty-two", 23: "twenty-three", 24: "twenty-four", 25: "twenty-five",
    26: "twenty-six", 27: "twenty-seven", 28: "twenty-eight", 29: "twenty-nine", 30: "thirty",
    31: "thirty-one", 32: "thirty-two", 33: "thirty-three", 34: "thirty-four", 35: "thirty-five",
    36: "thirty-six", 37: "thirty-seven", 38: "thirty-eight", 39: "thirty-nine", 40: "forty",
    41: "forty-one", 42: "forty-two", 43: "forty-three", 44: "forty-four", 45: "forty-five",
    46: "forty-six", 47: "forty-seven", 48: "forty-eight", 49: "forty-nine", 50: "fifty",
    51: "fifty-one", 52: "fifty-two", 53: "fifty-three", 54: "fifty-four", 55: "fifty-five",
    56: "fifty-six", 57: "fifty-seven", 58: "fifty-eight", 59: "fifty-nine", 60: "sixty",
    61: "sixty-one", 62: "sixty-two", 63: "sixty-three", 64: "sixty-four", 65: "sixty-five",
    66: "sixty-six", 67: "sixty-seven", 68: "sixty-eight", 69: "sixty-nine", 70: "seventy",
    71: "seventy-one", 72: "seventy-two", 73: "seventy-three", 74: "seventy-four", 75: "seventy-five",
    76: "seventy-six", 77: "seventy-seven", 78: "seventy-eight", 79: "seventy-nine", 80: "eighty",
    81: "eighty-one", 82: "eighty-two", 83: "eighty-three", 84: "eighty-four", 85: "eighty-five",
    86: "eighty-six", 87: "eighty-seven", 88: "eighty-eight", 89: "eighty-nine", 90: "ninety",
    91: "ninety-one", 92: "ninety-two", 93: "ninety-three", 94: "ninety-four", 95: "ninety-five",
    96: "ninety-six", 97: "ninety-seven", 98: "ninety-eight", 99: "ninety-nine", 100: "one hundred"
  },
  fil: {
    1: "isa", 2: "dalawa", 3: "tatlo", 4: "apat", 5: "lima", 6: "anim", 7: "pito", 8: "walo", 9: "siyam", 10: "sampu",
    11: "labing-isa", 12: "labindalawa", 13: "labintatlo", 14: "labing-apat", 15: "labing-lima", 16: "labing-anim", 17: "labimpito", 18: "labing-walo", 19: "labingsiyam", 20: "dalawampu",
    21: "dalawampu't isa", 22: "dalawampu't dalawa", 23: "dalawampu't tatlo", 24: "dalawampu't apat", 25: "dalawampu't lima", 26: "dalawampu't anim", 27: "dalawampu't pito", 28: "dalawampu't walo", 29: "dalawampu't siyam",
    30: "tatlumpu", 31: "tatlumpu't isa", 32: "tatlumpu't dalawa", 33: "tatlumpu't tatlo", 34: "tatlumpu't apat", 35: "tatlumpu't lima", 36: "tatlumpu't anim", 37: "tatlumpu't pito", 38: "tatlumpu't walo", 39: "tatlumpu't siyam",
    40: "apatnapu", 41: "apatnapu't isa", 42: "apatnapu't dalawa", 43: "apatnapu't tatlo", 44: "apatnapu't apat", 45: "apatnapu't lima", 46: "apatnapu't anim", 47: "apatnapu't pito", 48: "apatnapu't walo", 49: "apatnapu't siyam",
    50: "limampu", 51: "limampu't isa", 52: "limampu't dalawa", 53: "limampu't tatlo", 54: "limampu't apat", 55: "limampu't lima", 56: "limampu't anim", 57: "limampu't pito", 58: "limampu't walo", 59: "limampu't siyam",
    60: "animnapu", 61: "animnapu't isa", 62: "animnapu't dalawa", 63: "animnapu't tatlo", 64: "animnapu't apat", 65: "animnapu't lima", 66: "animnapu't anim", 67: "animnapu't pito", 68: "animnapu't walo", 69: "animnapu't siyam",
    70: "pitumpu", 71: "pitumpu't isa", 72: "pitumpu't dalawa", 73: "pitumpu't tatlo", 74: "pitumpu't apat", 75: "pitumpu't lima", 76: "pitumpu't anim", 77: "pitumpu't pito", 78: "pitumpu't walo", 79: "pitumpu't siyam",
    80: "walumpu", 81: "walumpu't isa", 82: "walumpu't dalawa", 83: "walumpu't tatlo", 84: "walumpu't apat", 85: "walumpu't lima", 86: "walumpu't anim", 87: "walumpu't pito", 88: "walumpu't walo", 89: "walumpu't siyam",
    90: "siyamnapu", 91: "siyamnapu't isa", 92: "siyamnapu't dalawa", 93: "siyamnapu't tatlo", 94: "siyamnapu't apat", 95: "siyamnapu't lima", 96: "siyamnapu't anim", 97: "siyamnapu't pito", 98: "siyamnapu't walo", 99: "siyamnapu't siyam",
    100: "isandaan"
  },
  hil: (() => {
  const obj = {};
  const units = ["", "isa", "duha", "tatlo", "apat", "lima", "anom", "pito", "walo", "siyam"];
  const teens = ["napulo", "napulugisa", "napulugduha", "napulugtulo", "napulugapat", "napuluglima", "napulugunum", "napulugpitu", "napulugwalo", "napulugsiyam"];
  const tens = ["", "", "duha ka napulo", "tatlo ka napulo", "apat ka napulo", "lima ka napulo", "unom ka napulo", "pitu ka napulo", "walo ka napulo", "siyam ka napulo"];

  // 1-10
  for (let i = 1; i <= 10; i++) obj[i] = i === 10 ? "napulo" : units[i];

  // 11-19
  for (let i = 1; i <= 9; i++) obj[10 + i] = teens[i];

  // 20-99
  for (let t = 2; t <= 9; t++) {
    obj[t * 10] = tens[t];
    for (let u = 1; u <= 9; u++) obj[t * 10 + u] = `${tens[t]} ug ${units[u]}`;
  }

  // 100
  obj[100] = "isa ka gatus";

  return obj;
})()
};    

 function onConfigChange() {
      const appWrapper = document.querySelector('.app-wrapper');
      const title = document.getElementById('app-title');
      const countbtntext = document.getElementById('count-btn-text');
      const solvebtntext = document.getElementById('solve-btn-text');
      const numbtntext = document.getElementById('num-btn-text');
      const ineqbtntext = document.getElementById('ineq-btn-text');
      const choosesolvedif = document.getElementById('choose-solve-dif');
      const chooseineqdif = document.getElementById('choose-ineq-dif');
      const choosecountdif = document.getElementById('choose-count-dif');
      const iezdif = document.getElementById('i-ez-dif');
      const sezdif = document.getElementById('s-ez-dif');
      const cezdif = document.getElementById('c-ez-dif');
      const imoddif = document.getElementById('i-mod-dif');
      const smoddif = document.getElementById('s-mod-dif');
      const cmoddif = document.getElementById('c-mod-dif');
      const sharddif = document.getElementById('s-hard-dif');
      const iharddif = document.getElementById('i-hard-dif');
      const charddif = document.getElementById('c-hard-dif');
      const tapinorder = document.getElementById('tap-in-order');
      const tapsubtext = document.getElementById('tap-subtext');
      const chooseope = document.getElementById('choose-ope');
      const choosedif = document.getElementById('choose-dif');
      const solveit = document.getElementById('solve-it');      
      const solveequ = document.getElementById('solve-equ');      
      const chooserange = document.getElementById('choose-range');      
      const numberDisplayTitle = document.getElementById('number-display-title');      
      const compnum = document.getElementById('comp-num');
      const choosecomp = document.getElementById('choose-comp');
      const checkbtn = document.getElementById('check-btn');
      const urscore = document.getElementById('ur-score');
      const inequalitytry = document.getElementById('inequality-try-again-btn');
      const countingtry = document.getElementById('counting-try-again-btn');
      const solvingtry = document.getElementById('solving-try-again-btn');
      const countingbtn = document.getElementById('counting-difficulty-btn');
      const solvingbtn = document.getElementById('solving-difficulty-btn');
      const inequalitybtn = document.getElementById('inequality-difficulty-btn');
      const scoremessage100 = document.getElementById('score-message-100');
      const scoremessage80 = document.getElementById('scoremessage80');
      const scoremessage60 = document.getElementById('scoremessage60');
      const scoremessage40 = document.getElementById('scoremessage40');
      const scoremessage20 = document.getElementById('scoremessage20');
      const scoremessagebelow = document.getElementById('scoremessagebelow');

      const appIcon = document.getElementById('app-icon');
      const mainTitle = document.getElementById('main-title');
      const countingBtn = document.getElementById('counting-btn');
      const solvingBtn = document.getElementById('solving-btn');
      const numberTableBtn = document.getElementById('number-table-btn');
      const inequalityBtn = document.getElementById('inequality-btn');
      const bgColor = defaultConfig.background_color;
      const surfaceColor = defaultConfig.surface_color;
      const textColor = defaultConfig.text_color;
      const primaryColor = defaultConfig.primary_action_color;
      const secondaryColor = defaultConfig.secondary_action_color;

      //appWrapper.style.background = bgColor;
      //appIcon.style.background = surfaceColor;
      mainTitle.style.color = textColor;

      const allTitles = document.querySelectorAll('.t');
      allTitles.forEach(t => {
        t.style.color = textColor;
      });

      const allBackBtns = document.querySelectorAll('back-btn');
      allBackBtns.forEach(btn => {
        btn.textContent = "‚Üê Back";
        btn.style.color = textColor;
      });

      const allInstructions = document.querySelectorAll('quiz-instruction');
      allInstructions.forEach(instr => {
        instr.style.color = textColor;
      });

      const buttons = [countingBtn, solvingBtn, numberTableBtn, inequalityBtn];
      buttons.forEach(btn => {
        btn.style.background = surfaceColor;
        btn.style.color = textColor;
      });

      const operationButtons = document.querySelectorAll('operation-btn');
      operationButtons.forEach(btn => {
        btn.style.background = surfaceColor;
        btn.style.color = textColor;
      });

       title.textContent = defaultConfig.app_title;
       countbtntext.textContent = defaultConfig.count_btn_text;
       solvebtntext.textContent = defaultConfig.solve_btn_text;
       numbtntext.textContent = defaultConfig.num_btn_text;
       ineqbtntext.textContent = defaultConfig.ineq_btn_text;
       choosedif.textContent = defaultConfig.choose_dif;
       iezdif.textContent = defaultConfig.i_ez_dif;
       sezdif.textContent = defaultConfig.s_ez_dif;
       cezdif.textContent = defaultConfig.c_ez_dif;
       imoddif.textContent = defaultConfig.i_mod_dif;
       smoddif.textContent = defaultConfig.s_mod_dif;
       cmoddif.textContent = defaultConfig.c_mod_dif;
       iharddif.textContent = defaultConfig.i_hard_dif;
       sharddif.textContent = defaultConfig.s_hard_dif;
       charddif.textContent = defaultConfig.c_hard_dif;
       tapinorder.textContent = defaultConfig.tap_in_order;
       tapsubtext.textContent = defaultConfig.tap_subtext;
       chooseope.textContent = defaultConfig.choose_ope;
       solveit.textContent = defaultConfig.solve_it;      
       solveequ.textContent = defaultConfig.solve_equ;      
       chooserange.textContent = defaultConfig.choose_range;      
       numberDisplayTitle.textContent = defaultConfig.number_display_title;      
       compnum.textContent = defaultConfig.comp_num;
       choosecomp.textContent = defaultConfig.choose_comp;
       checkbtn.textContent = defaultConfig.check_btn;
       urscore.textContent = defaultConfig.ur_score;
       countingtry.textContent = defaultConfig.counting_try_again_btn;
       solvingtry.textContent = defaultConfig.solving_try_again_btn;
       inequalitytry.textContent = defaultConfig.inequality_try_again_btn;
       countingbtn.textContent = defaultConfig.counting_difficulty_btn;
       solvingbtn.textContent = defaultConfig.solving_difficulty_btn;
       inequalitybtn.textContent = defaultConfig.inequality_difficulty_btn;
       scoremessage100.textContent = defaultConfig.score_message100;
       scoremessage80.textContent = defaultConfig.score_message80;
       scoremessage60.textContent = defaultConfig.score_message60;
       scoremessage40.textContent = defaultConfig.score_message40;
       scoremessage20.textContent = defaultConfig.score_message20;
       scoremessagebelow.textContent = defaultConfig.score_message_below;
    } 

    function changeLanguage(lang) {

  const elementsToUpdate = {
    'app-title': 'app_title',
    'count-btn-text': 'count_btn_text',
    'solve-btn-text': 'solve_btn_text',
    'num-btn-text': 'num_btn_text',
    'ineq-btn-text': 'ineq_btn_text',
    'choose-solve-dif': 'choose_dif',
    'choose-ineq-dif': 'choose_dif',
    'choose-count-dif': 'choose_dif',
    'i-ez-dif': 'i_ez_dif',
    's-ez-dif': 's_ez_dif',
    'c-ez-dif': 'c_ez_dif',
    'i-mod-dif': 'i_mod_dif',
    's-mod-dif': 's_mod_dif',
    'c-mod-dif': 'c_mod_dif',
    'i-hard-dif': 'i_hard_dif',
    's-hard-dif': 's_hard_dif',
    'c-hard-dif': 'c_hard_dif',
    'tap-in-order': 'tap_in_order',
    'tap-subtext': 'tap_subtext',
    'choose-ope': 'choose_ope',
    'solve-it': 'solve_it',
    'solve-equ': 'solve_equ',
    'choose-range': 'choose_range',
    'number-display-title': 'number_display_title',
    'comp-num': 'comp_num',
    'choose-comp': 'choose_comp',
    'check-btn': 'check_btn',
    'ur-score': 'ur_score',
    'counting-try-again-btn': 'counting_try_again_btn',
    'solving-try-again-btn': 'solving_try_again_btn',
    'inequality-try-again-btn': 'inequality_try_again_btn',
    'counting-difficulty-btn': 'counting_difficulty_btn',
    'solving-difficulty-btn': 'solving_difficulty_btn',
    'inequality-difficulty-btn': 'inequality_difficulty_btn',
    'score-message-100': 'score_message_100',
    'score-message-80': 'score_message_80',
    'score-message-60': 'score_message_60',
    'score-message-40': 'score_message_40',
    'score-message-20': 'score_message_20',
    'score-message-below': 'score_message_below',
  };

  // Batch update all elements at once
  Object.keys(elementsToUpdate).forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      element.textContent = translations[lang][elementsToUpdate[id]];
    }
  });

    const visiblePages = ['counting-score-page', 'solving-score-page', 'inequality-score-page'];  // Add your page IDs
  visiblePages.forEach(pageId => {
    const page = document.getElementById(pageId);
    if (page && page.style.display !== 'none') {
      let percentage = 0;
      let messageElementId = '';

      /*if (pageId === 'counting-score-page') {
        showScoreCounting();  // Assuming this exists
      } else if (pageId === 'solving-score-page') {
        showSolvingScore();
      } else if (pageId === 'inequality-score-page') {
        showInequalityScore();  // Assuming this exists
      }*/

      if (pageId === 'counting-score-page') {
        percentage = currentCountingPercentage;  // Ensure this global variable is set
        messageElementId = 'counting-score-message';
      } else if (pageId === 'solving-score-page') {
        percentage = currentSolvingPercentage;
        messageElementId = 'solving-score-message';
      } else if (pageId === 'inequality-score-page') {
        percentage = currentInequalityPercentage;
        messageElementId = 'inequality-score-message';
      }
      
      if (percentage > 0 && messageElementId) {
        const messageElement = document.getElementById(messageElementId);

        if (messageElement) {
          const { message } = getScoreMessage(percentage);  // Re-call with new lang
          messageElement.textContent = message;
          console.log('Updated score message for', pageId, 'to:', message);  // Debug log
        }

        if (pageId === 'solving-score-page' || pageId === 'inequality-score-page') {
          const yourScoreElement = document.getElementById('ur_score');
          if (yourScoreElement) {
            yourScoreElement.textContent = `${translations[lang]['ur_score']}: ${Math.round(percentage)}%`;
          }
        }
      }
    }
  });

  // Update language buttons (active state)
  document.querySelectorAll('.language-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`.language-btn[data-lang="${lang}"]`).classList.add('active');

  // Save to localStorage and notify script.js
  localStorage.setItem("lang", lang);
  if (typeof updateCurrentLanguage === 'function') {
    updateCurrentLanguage(lang);
  }
}

    document.querySelectorAll('.language-btn').forEach(button => {
  button.addEventListener('click', function () {
    document.querySelectorAll('.language-btn').forEach(btn => btn.classList.remove('active'));
    this.classList.add('active');

    const selectedLang = this.getAttribute('data-lang');
    changeLanguage(selectedLang);
  });
});

    (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a73f7ad77e5a9ab',t:'MTc2NDYwNjYwOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
</script>
  <script src="script.js"></script>
</body>
</html>
